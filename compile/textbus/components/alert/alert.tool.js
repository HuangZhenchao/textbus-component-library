import { ButtonTool } from '@textbus/editor';
import { Commander, ContentType, Slot, Selection } from '@textbus/core';
import { alertComponent } from './alert.component';
import { SlotComplete } from '../type';
export function alertToolConfigFactory(injector) {
    const commander = injector.get(Commander);
    const selection = injector.get(Selection);
    return {
        label: '警告框',
        tooltip: '警告框',
        onClick() {
            const slot = new Slot([ContentType.Text]);
            slot.insert("这是Alert组件");
            const alertState = {
                fill: true,
                type: 'primary',
            };
            const component = alertComponent.createInstance(injector, {
                slots: [
                    slot,
                    new SlotComplete()
                ],
                state: alertState
            });
            commander.insert(component);
            selection.setPosition(slot, slot.length);
        }
    };
}
export function alertTool() {
    return new ButtonTool(alertToolConfigFactory);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxlcnQudG9vbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3RleHRidXMvY29tcG9uZW50cy9hbGVydC9hbGVydC50b29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBOEIsVUFBVSxFQUFrQixNQUFNLGlCQUFpQixDQUFBO0FBQ3hGLE9BQU8sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUE7QUFDdkUsT0FBTyxFQUFDLGNBQWMsRUFBYSxNQUFNLG1CQUFtQixDQUFBO0FBQzVELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFFdEMsTUFBTSxVQUFVLHNCQUFzQixDQUFDLFFBQVE7SUFDN0MsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQTtJQUN6QyxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ3pDLE9BQU87UUFDTCxLQUFLLEVBQUUsS0FBSztRQUNaLE9BQU8sRUFBQyxLQUFLO1FBQ2IsT0FBTztZQUNMLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7WUFDekMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQTtZQUN4QixNQUFNLFVBQVUsR0FBWTtnQkFDMUIsSUFBSSxFQUFFLElBQUk7Z0JBQ1YsSUFBSSxFQUFDLFNBQVM7YUFDZixDQUFBO1lBQ0QsTUFBTSxTQUFTLEdBQUcsY0FBYyxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQ3REO2dCQUNFLEtBQUssRUFBQztvQkFDSixJQUFJO29CQUNKLElBQUksWUFBWSxFQUFFO2lCQUNuQjtnQkFDRCxLQUFLLEVBQUMsVUFBVTthQUNqQixDQUNGLENBQUE7WUFFRCxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBQzNCLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUMxQyxDQUFDO0tBQ0YsQ0FBQTtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsU0FBUztJQUN2QixPQUFPLElBQUksVUFBVSxDQUFDLHNCQUFzQixDQUFDLENBQUE7QUFDL0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YmxvY2txdW90ZVRvb2xDb25maWdGYWN0b3J5LCBCdXR0b25Ub29sLEJ1dHRvblRvb2xDb25maWd9IGZyb20gJ0B0ZXh0YnVzL2VkaXRvcidcbmltcG9ydCB7IENvbW1hbmRlciwgQ29udGVudFR5cGUsIFNsb3QsIFNlbGVjdGlvbiB9IGZyb20gJ0B0ZXh0YnVzL2NvcmUnXG5pbXBvcnQge2FsZXJ0Q29tcG9uZW50LCBBbGVydFN0YXRlfSBmcm9tICcuL2FsZXJ0LmNvbXBvbmVudCdcbmltcG9ydCB7IFNsb3RDb21wbGV0ZSB9IGZyb20gJy4uL3R5cGUnXG5cbmV4cG9ydCBmdW5jdGlvbiBhbGVydFRvb2xDb25maWdGYWN0b3J5KGluamVjdG9yKTpCdXR0b25Ub29sQ29uZmlnIHtcbiAgY29uc3QgY29tbWFuZGVyID0gaW5qZWN0b3IuZ2V0KENvbW1hbmRlcilcbiAgY29uc3Qgc2VsZWN0aW9uID0gaW5qZWN0b3IuZ2V0KFNlbGVjdGlvbilcbiAgcmV0dXJuIHtcbiAgICBsYWJlbDogJ+itpuWRiuahhicsXG4gICAgdG9vbHRpcDon6K2m5ZGK5qGGJyxcbiAgICBvbkNsaWNrKCkge1xuICAgICAgY29uc3Qgc2xvdCA9IG5ldyBTbG90KFtDb250ZW50VHlwZS5UZXh0XSlcbiAgICAgIHNsb3QuaW5zZXJ0KFwi6L+Z5pivQWxlcnTnu4Tku7ZcIilcbiAgICAgIGNvbnN0IGFsZXJ0U3RhdGU6QWxlcnRTdGF0ZT17XG4gICAgICAgIGZpbGw6IHRydWUsXG4gICAgICAgIHR5cGU6J3ByaW1hcnknLFxuICAgICAgfVxuICAgICAgY29uc3QgY29tcG9uZW50ID0gYWxlcnRDb21wb25lbnQuY3JlYXRlSW5zdGFuY2UoaW5qZWN0b3IsIFxuICAgICAgICB7XG4gICAgICAgICAgc2xvdHM6W1xuICAgICAgICAgICAgc2xvdCxcbiAgICAgICAgICAgIG5ldyBTbG90Q29tcGxldGUoKVxuICAgICAgICAgIF0sXG4gICAgICAgICAgc3RhdGU6YWxlcnRTdGF0ZVxuICAgICAgICB9XG4gICAgICApXG4gICAgXG4gICAgICBjb21tYW5kZXIuaW5zZXJ0KGNvbXBvbmVudClcbiAgICAgIHNlbGVjdGlvbi5zZXRQb3NpdGlvbihzbG90LCBzbG90Lmxlbmd0aClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFsZXJ0VG9vbCgpe1xuICByZXR1cm4gbmV3IEJ1dHRvblRvb2woYWxlcnRUb29sQ29uZmlnRmFjdG9yeSlcbn1cbiJdfQ==
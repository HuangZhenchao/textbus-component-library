import { ButtonTool } from '@textbus/editor';
import { Commander, Selection } from '@textbus/core';
import { timelineComponent, TimelineItemSlot } from './timeline.component';
export function timelineToolConfigFactory(injector) {
    const commander = injector.get(Commander);
    const selection = injector.get(Selection);
    return {
        label: '时间轴',
        tooltip: '时间轴',
        onClick() {
            const slot = new TimelineItemSlot('primary');
            slot.write('待办事项');
            let state = {
                itemSlots: [slot]
            };
            const component = timelineComponent.createInstance(injector, { slots: [slot] });
            console.log('component', component);
            commander.insert(component);
            selection.setPosition(slot, 0);
        }
    };
}
export const timelineTool = new ButtonTool(timelineToolConfigFactory);
export const timelineExample = `<img alt="示例" src="data:image/svg+xml;charset=UTF-8,${encodeURIComponent('<svg width="100" height="70" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><rect fill="#fff" height="100%" width="100%"/></g><defs><g id="item"><circle r="2" cx="10" cy="12"></circle><line x1="10" y1="12" x2="10" y2="24" stroke-width="0.5"></line><text font-family="Helvetica, Arial, sans-serif" font-size="5" x="16" y="14" stroke-width="0" stroke="#000" fill="#000000">事件主题</text><text font-family="Helvetica, Arial, sans-serif" font-size="4.5" x="38" y="13.5" stroke-width="0" stroke="#000" fill="#888">2020-08-08</text><text font-family="Helvetica, Arial, sans-serif" font-size="4.5" x="16" y="20" stroke-width="0" stroke="#000" fill="#000000">详细说明...</text></g></defs><use xlink:href="#item" fill="#1296db" stroke="#1296db"></use><use xlink:href="#item" transform="translate(0, 14)" fill="#15bd9a" stroke="#15bd9a"></use><use xlink:href="#item" transform="translate(0, 28)" fill="#495060" stroke="#495060"></use><use xlink:href="#item" transform="translate(0, 42)" fill="#E74F5E" stroke="#E74F5E"></use></svg>')}">`;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZWxpbmUudG9vbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3RleHRidXMvY29tcG9uZW50cy90aW1lbGluZS90aW1lbGluZS50b29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQWtCLE1BQU0saUJBQWlCLENBQUE7QUFDNUQsT0FBTyxFQUFFLFNBQVMsRUFBcUIsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFBO0FBQ3ZFLE9BQU8sRUFBQyxpQkFBaUIsRUFBZ0IsZ0JBQWdCLEVBQUMsTUFBTSxzQkFBc0IsQ0FBQTtBQUV0RixNQUFNLFVBQVUseUJBQXlCLENBQUMsUUFBUTtJQUM5QyxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ3pDLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUE7SUFDekMsT0FBTztRQUNILEtBQUssRUFBRSxLQUFLO1FBQ1osT0FBTyxFQUFDLEtBQUs7UUFDYixPQUFPO1lBQ0gsTUFBTSxJQUFJLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUM1QyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ2xCLElBQUksS0FBSyxHQUFjO2dCQUNuQixTQUFTLEVBQUMsQ0FBQyxJQUFJLENBQUM7YUFDbkIsQ0FBQTtZQUNELE1BQU0sU0FBUyxHQUFHLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsRUFBQyxLQUFLLEVBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDLENBQUE7WUFDNUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsU0FBUyxDQUFDLENBQUE7WUFDbEMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUMzQixTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQTtRQUNsQyxDQUFDO0tBQ0osQ0FBQTtBQUNMLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQWEsSUFBSSxVQUFVLENBQUMseUJBQXlCLENBQUMsQ0FBQTtBQUUvRSxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUUsdURBQXVELGtCQUFrQixDQUFDLDBoQ0FBMGhDLENBQUMsSUFBSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnV0dG9uVG9vbCxCdXR0b25Ub29sQ29uZmlnfSBmcm9tICdAdGV4dGJ1cy9lZGl0b3InXHJcbmltcG9ydCB7IENvbW1hbmRlciwgQ29udGVudFR5cGUsIFNsb3QsIFNlbGVjdGlvbiB9IGZyb20gJ0B0ZXh0YnVzL2NvcmUnXHJcbmltcG9ydCB7dGltZWxpbmVDb21wb25lbnQsIHRpbWVsaW5lU2xvdCwgVGltZWxpbmVJdGVtU2xvdH0gZnJvbSAnLi90aW1lbGluZS5jb21wb25lbnQnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdGltZWxpbmVUb29sQ29uZmlnRmFjdG9yeShpbmplY3Rvcik6QnV0dG9uVG9vbENvbmZpZyB7XHJcbiAgICBjb25zdCBjb21tYW5kZXIgPSBpbmplY3Rvci5nZXQoQ29tbWFuZGVyKVxyXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gaW5qZWN0b3IuZ2V0KFNlbGVjdGlvbilcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbGFiZWw6ICfml7bpl7TovbQnLFxyXG4gICAgICAgIHRvb2x0aXA6J+aXtumXtOi9tCcsXHJcbiAgICAgICAgb25DbGljaygpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IG5ldyBUaW1lbGluZUl0ZW1TbG90KCdwcmltYXJ5JylcclxuICAgICAgICAgICAgc2xvdC53cml0ZSgn5b6F5Yqe5LqL6aG5JylcclxuICAgICAgICAgICAgbGV0IHN0YXRlOnRpbWVsaW5lU2xvdD17XHJcbiAgICAgICAgICAgICAgICBpdGVtU2xvdHM6W3Nsb3RdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGltZWxpbmVDb21wb25lbnQuY3JlYXRlSW5zdGFuY2UoaW5qZWN0b3IsIHtzbG90czpbc2xvdF19KVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY29tcG9uZW50Jyxjb21wb25lbnQpXHJcbiAgICAgICAgICAgIGNvbW1hbmRlci5pbnNlcnQoY29tcG9uZW50KVxyXG4gICAgICAgICAgICBzZWxlY3Rpb24uc2V0UG9zaXRpb24oc2xvdCwgMClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB0aW1lbGluZVRvb2w6QnV0dG9uVG9vbD0gbmV3IEJ1dHRvblRvb2wodGltZWxpbmVUb29sQ29uZmlnRmFjdG9yeSlcclxuXHJcbmV4cG9ydCBjb25zdCB0aW1lbGluZUV4YW1wbGU9IGA8aW1nIGFsdD1cIuekuuS+i1wiIHNyYz1cImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PVVURi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KCc8c3ZnIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiNzBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI+PGc+PHJlY3QgZmlsbD1cIiNmZmZcIiBoZWlnaHQ9XCIxMDAlXCIgd2lkdGg9XCIxMDAlXCIvPjwvZz48ZGVmcz48ZyBpZD1cIml0ZW1cIj48Y2lyY2xlIHI9XCIyXCIgY3g9XCIxMFwiIGN5PVwiMTJcIj48L2NpcmNsZT48bGluZSB4MT1cIjEwXCIgeTE9XCIxMlwiIHgyPVwiMTBcIiB5Mj1cIjI0XCIgc3Ryb2tlLXdpZHRoPVwiMC41XCI+PC9saW5lPjx0ZXh0IGZvbnQtZmFtaWx5PVwiSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZlwiIGZvbnQtc2l6ZT1cIjVcIiB4PVwiMTZcIiB5PVwiMTRcIiBzdHJva2Utd2lkdGg9XCIwXCIgc3Ryb2tlPVwiIzAwMFwiIGZpbGw9XCIjMDAwMDAwXCI+5LqL5Lu25Li76aKYPC90ZXh0Pjx0ZXh0IGZvbnQtZmFtaWx5PVwiSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZlwiIGZvbnQtc2l6ZT1cIjQuNVwiIHg9XCIzOFwiIHk9XCIxMy41XCIgc3Ryb2tlLXdpZHRoPVwiMFwiIHN0cm9rZT1cIiMwMDBcIiBmaWxsPVwiIzg4OFwiPjIwMjAtMDgtMDg8L3RleHQ+PHRleHQgZm9udC1mYW1pbHk9XCJIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmXCIgZm9udC1zaXplPVwiNC41XCIgeD1cIjE2XCIgeT1cIjIwXCIgc3Ryb2tlLXdpZHRoPVwiMFwiIHN0cm9rZT1cIiMwMDBcIiBmaWxsPVwiIzAwMDAwMFwiPuivpue7huivtOaYji4uLjwvdGV4dD48L2c+PC9kZWZzPjx1c2UgeGxpbms6aHJlZj1cIiNpdGVtXCIgZmlsbD1cIiMxMjk2ZGJcIiBzdHJva2U9XCIjMTI5NmRiXCI+PC91c2U+PHVzZSB4bGluazpocmVmPVwiI2l0ZW1cIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMCwgMTQpXCIgZmlsbD1cIiMxNWJkOWFcIiBzdHJva2U9XCIjMTViZDlhXCI+PC91c2U+PHVzZSB4bGluazpocmVmPVwiI2l0ZW1cIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMCwgMjgpXCIgZmlsbD1cIiM0OTUwNjBcIiBzdHJva2U9XCIjNDk1MDYwXCI+PC91c2U+PHVzZSB4bGluazpocmVmPVwiI2l0ZW1cIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMCwgNDIpXCIgZmlsbD1cIiNFNzRGNUVcIiBzdHJva2U9XCIjRTc0RjVFXCI+PC91c2U+PC9zdmc+Jyl9XCI+YDtcclxuICAiXX0=
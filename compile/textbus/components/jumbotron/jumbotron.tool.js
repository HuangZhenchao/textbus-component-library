import { ButtonTool, headingComponent } from '@textbus/editor';
import { Commander, ContentType, Slot, Selection } from '@textbus/core';
import { jumbotronComponent, JumbotronSlot } from './jumbotron.component';
export function jumbotronToolConfigFactory(injector) {
    const commander = injector.get(Commander);
    const selection = injector.get(Selection);
    return {
        label: '巨幕',
        tooltip: '巨幕',
        onClick() {
            const state = {
                backgroundPosition: 'center center',
                backgroundSize: 'cover',
                backgroundImage: './',
                minHeight: '200px',
            };
            let slot = new JumbotronSlot();
            const headingSlot = new Slot([ContentType.Text,
                ContentType.InlineComponent]);
            headingSlot.write('hello world!');
            slot.write(headingComponent.createInstance(injector, { state: 'h1', slots: [headingSlot] }));
            const component = jumbotronComponent.createInstance(injector, { slots: [slot], state: state });
            commander.insert(component);
            selection.setPosition(headingSlot, headingSlot.length);
        }
    };
}
export function jumbotronTool() {
    return new ButtonTool(jumbotronToolConfigFactory);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianVtYm90cm9uLnRvb2wuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi90ZXh0YnVzL2NvbXBvbmVudHMvanVtYm90cm9uL2p1bWJvdHJvbi50b29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQW1CLGdCQUFnQixFQUFDLE1BQU0saUJBQWlCLENBQUE7QUFDOUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQTtBQUN2RSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsYUFBYSxFQUFrQixNQUFNLHVCQUF1QixDQUFBO0FBRXpGLE1BQU0sVUFBVSwwQkFBMEIsQ0FBQyxRQUFRO0lBQy9DLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUE7SUFDekMsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQTtJQUN6QyxPQUFPO1FBQ0gsS0FBSyxFQUFFLElBQUk7UUFDWCxPQUFPLEVBQUMsSUFBSTtRQUNaLE9BQU87WUFDSCxNQUFNLEtBQUssR0FBZ0I7Z0JBQ3ZCLGtCQUFrQixFQUFFLGVBQWU7Z0JBQ25DLGNBQWMsRUFBRSxPQUFPO2dCQUN2QixlQUFlLEVBQUUsSUFBSTtnQkFDckIsU0FBUyxFQUFFLE9BQU87YUFFckIsQ0FBQTtZQUNELElBQUksSUFBSSxHQUFDLElBQUksYUFBYSxFQUFFLENBQUE7WUFDNUIsTUFBTSxXQUFXLEdBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSTtnQkFDeEMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7WUFDbEMsV0FBVyxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUNsQyxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUMsRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxDQUFDLFdBQVcsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ3RGLE1BQU0sU0FBUyxHQUFHLGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsRUFBQyxLQUFLLEVBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxLQUFLLEVBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQTtZQUN6RixTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBQzNCLFNBQVMsQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUMxRCxDQUFDO0tBQ0osQ0FBQTtBQUNMLENBQUM7QUFFRCxNQUFNLFVBQVUsYUFBYTtJQUN6QixPQUFPLElBQUksVUFBVSxDQUFDLDBCQUEwQixDQUFDLENBQUE7QUFDckQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1dHRvblRvb2wsQnV0dG9uVG9vbENvbmZpZywgaGVhZGluZ0NvbXBvbmVudH0gZnJvbSAnQHRleHRidXMvZWRpdG9yJ1xyXG5pbXBvcnQgeyBDb21tYW5kZXIsIENvbnRlbnRUeXBlLCBTbG90LCBTZWxlY3Rpb24gfSBmcm9tICdAdGV4dGJ1cy9jb3JlJ1xyXG5pbXBvcnQgeyBqdW1ib3Ryb25Db21wb25lbnQsIEp1bWJvdHJvblNsb3QsIGp1bWJvdHJvblN0YXRlIH0gZnJvbSAnLi9qdW1ib3Ryb24uY29tcG9uZW50J1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGp1bWJvdHJvblRvb2xDb25maWdGYWN0b3J5KGluamVjdG9yKTpCdXR0b25Ub29sQ29uZmlnIHtcclxuICAgIGNvbnN0IGNvbW1hbmRlciA9IGluamVjdG9yLmdldChDb21tYW5kZXIpXHJcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBpbmplY3Rvci5nZXQoU2VsZWN0aW9uKVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBsYWJlbDogJ+W3qOW5lScsXHJcbiAgICAgICAgdG9vbHRpcDon5beo5bmVJyxcclxuICAgICAgICBvbkNsaWNrKCkge1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0ZTpqdW1ib3Ryb25TdGF0ZT17XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246ICdjZW50ZXIgY2VudGVyJyxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiAnY292ZXInLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiAnLi8nLFxyXG4gICAgICAgICAgICAgICAgbWluSGVpZ2h0OiAnMjAwcHgnLFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHNsb3Q9bmV3IEp1bWJvdHJvblNsb3QoKVxyXG4gICAgICAgICAgICBjb25zdCBoZWFkaW5nU2xvdD1uZXcgU2xvdChbQ29udGVudFR5cGUuVGV4dCxcclxuICAgICAgICAgICAgICAgIENvbnRlbnRUeXBlLklubGluZUNvbXBvbmVudF0pO1xyXG4gICAgICAgICAgICBoZWFkaW5nU2xvdC53cml0ZSgnaGVsbG8gd29ybGQhJyk7XHJcbiAgICAgICAgICAgIHNsb3Qud3JpdGUoaGVhZGluZ0NvbXBvbmVudC5jcmVhdGVJbnN0YW5jZShpbmplY3Rvcix7c3RhdGU6J2gxJyxzbG90czpbaGVhZGluZ1Nsb3RdfSkpXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGp1bWJvdHJvbkNvbXBvbmVudC5jcmVhdGVJbnN0YW5jZShpbmplY3Rvciwge3Nsb3RzOltzbG90XSxzdGF0ZTpzdGF0ZX0pXHJcbiAgICAgICAgICAgIGNvbW1hbmRlci5pbnNlcnQoY29tcG9uZW50KVxyXG4gICAgICAgICAgICBzZWxlY3Rpb24uc2V0UG9zaXRpb24oaGVhZGluZ1Nsb3QsIGhlYWRpbmdTbG90Lmxlbmd0aClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBqdW1ib3Ryb25Ub29sKCl7XHJcbiAgICByZXR1cm4gbmV3IEJ1dHRvblRvb2woanVtYm90cm9uVG9vbENvbmZpZ0ZhY3RvcnkpXHJcbn0iXX0=
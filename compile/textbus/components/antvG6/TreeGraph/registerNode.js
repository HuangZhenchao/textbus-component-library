import G6 from "@antv/g6";
G6.registerNode('tree-node', {
    drawShape: function drawShape(cfg, group) {
        const rect = group.addShape('rect', {
            attrs: {
                fill: '#91d5ff',
                stroke: '#40a9ff',
                x: 0,
                y: 0,
                width: 1,
                height: 1
            },
            name: 'rect-shape',
        });
        const content = cfg.id.toString().replace(/(.{19})/g, '$1\n');
        const text = group.addShape('text', {
            attrs: {
                text: content,
                x: 0,
                y: 0,
                textAlign: 'left',
                textBaseline: 'middle',
                fill: '#000',
            },
            name: 'text-shape',
        });
        const bbox = text.getBBox();
        const hasChildren = cfg.children && Array(cfg.children).length > 0;
        rect.attr({
            x: -bbox.width / 2 - 4,
            y: -bbox.height / 2 - 6,
            width: bbox.width + (hasChildren ? 26 : 12),
            height: bbox.height + 12,
        });
        text.attr({
            x: -bbox.width / 2,
            y: 0
        });
        if (hasChildren) {
            group.addShape('marker', {
                attrs: {
                    x: bbox.width / 2 + 12,
                    y: 0,
                    r: 6,
                    symbol: cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse,
                    stroke: '#666',
                    lineWidth: 2,
                },
                name: 'collapse-icon',
            });
        }
        return rect;
    },
    update: (cfg, item) => {
        const group = item.getContainer();
        const icon = group.find((e) => e.get('name') === 'collapse-icon');
        icon.attr('symbol', cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse);
    },
}, 'single-node');
G6.registerNode('tree-node', {
    drawShape: function drawShape(cfg, group) {
        const rect = group.addShape('rect', {
            attrs: {
                fill: '#91d5ff',
                stroke: '#40a9ff',
                x: 0,
                y: 0,
                width: 1,
                height: 1
            },
            name: 'rect-shape',
        });
        const content = cfg.id.toString().replace(/(.{19})/g, '$1\n');
        const text = group.addShape('text', {
            attrs: {
                text: content,
                x: 0,
                y: 0,
                textAlign: 'left',
                textBaseline: 'middle',
                fill: '#000',
            },
            name: 'text-shape',
        });
        const bbox = text.getBBox();
        const hasChildren = cfg.children && Array(cfg.children).length > 0;
        rect.attr({
            x: -bbox.width / 2 - 4,
            y: -bbox.height / 2 - 6,
            width: bbox.width + (hasChildren ? 26 : 12),
            height: bbox.height + 12,
        });
        text.attr({
            x: -bbox.width / 2,
            y: 0
        });
        if (hasChildren) {
            group.addShape('marker', {
                attrs: {
                    x: bbox.width / 2 + 12,
                    y: 0,
                    r: 6,
                    symbol: cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse,
                    stroke: '#666',
                    lineWidth: 2,
                },
                name: 'collapse-icon',
            });
        }
        return rect;
    },
    update: (cfg, item) => {
        const group = item.getContainer();
        const icon = group.find((e) => e.get('name') === 'collapse-icon');
        icon.attr('symbol', cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse);
    },
}, 'single-node');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0ZXJOb2RlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vdGV4dGJ1cy9jb21wb25lbnRzL2FudHZHNi9UcmVlR3JhcGgvcmVnaXN0ZXJOb2RlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFMUIsRUFBRSxDQUFDLFlBQVksQ0FDWCxXQUFXLEVBQ1g7SUFDRSxTQUFTLEVBQUUsU0FBUyxTQUFTLENBQUMsR0FBTyxFQUFFLEtBQVM7UUFDOUMsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUU7WUFDbEMsS0FBSyxFQUFFO2dCQUNMLElBQUksRUFBRSxTQUFTO2dCQUNmLE1BQU0sRUFBRSxTQUFTO2dCQUNqQixDQUFDLEVBQUUsQ0FBQztnQkFDSixDQUFDLEVBQUUsQ0FBQztnQkFDSixLQUFLLEVBQUMsQ0FBQztnQkFDUCxNQUFNLEVBQUUsQ0FBQzthQUNWO1lBQ0QsSUFBSSxFQUFFLFlBQVk7U0FDbkIsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzlELE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFO1lBQ2xDLEtBQUssRUFBRTtnQkFDTCxJQUFJLEVBQUUsT0FBTztnQkFDYixDQUFDLEVBQUUsQ0FBQztnQkFDSixDQUFDLEVBQUUsQ0FBQztnQkFDSixTQUFTLEVBQUUsTUFBTTtnQkFDakIsWUFBWSxFQUFFLFFBQVE7Z0JBQ3RCLElBQUksRUFBRSxNQUFNO2FBQ2I7WUFDRCxJQUFJLEVBQUUsWUFBWTtTQUNuQixDQUFDLENBQUM7UUFDSCxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDNUIsTUFBTSxXQUFXLEdBQUcsR0FB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RCxNQUFNLEVBQUUsTUFBTTtvQkFDZCxTQUFTLEVBQUUsQ0FBQztpQkFDYjtnQkFDRCxJQUFJLEVBQUUsZUFBZTthQUN0QixDQUFDLENBQUM7U0FDSjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUNELE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRTtRQUNwQixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDbEMsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxlQUFlLENBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM3RSxDQUFDO0NBQ0YsRUFDRCxhQUFhLENBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHNiBmcm9tIFwiQGFudHYvZzZcIjtcclxuXHJcbkc2LnJlZ2lzdGVyTm9kZShcclxuICAgICd0cmVlLW5vZGUnLFxyXG4gICAge1xyXG4gICAgICBkcmF3U2hhcGU6IGZ1bmN0aW9uIGRyYXdTaGFwZShjZmc6YW55LCBncm91cDphbnkpIHtcclxuICAgICAgICBjb25zdCByZWN0ID0gZ3JvdXAuYWRkU2hhcGUoJ3JlY3QnLCB7XHJcbiAgICAgICAgICBhdHRyczoge1xyXG4gICAgICAgICAgICBmaWxsOiAnIzkxZDVmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyM0MGE5ZmYnLFxyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICB3aWR0aDoxLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDFcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBuYW1lOiAncmVjdC1zaGFwZScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGNmZy5pZC50b1N0cmluZygpLnJlcGxhY2UoLyguezE5fSkvZywgJyQxXFxuJyk7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IGdyb3VwLmFkZFNoYXBlKCd0ZXh0Jywge1xyXG4gICAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgICAgdGV4dDogY29udGVudCxcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXHJcbiAgICAgICAgICAgIHRleHRCYXNlbGluZTogJ21pZGRsZScsXHJcbiAgICAgICAgICAgIGZpbGw6ICcjMDAwJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBuYW1lOiAndGV4dC1zaGFwZScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgYmJveCA9IHRleHQuZ2V0QkJveCgpO1xyXG4gICAgICAgIGNvbnN0IGhhc0NoaWxkcmVuID0gY2ZnLmNoaWxkcmVuICYmIEFycmF5KGNmZy5jaGlsZHJlbikubGVuZ3RoID4gMDtcclxuICAgICAgICByZWN0LmF0dHIoe1xyXG4gICAgICAgICAgeDogLWJib3gud2lkdGggLyAyIC0gNCxcclxuICAgICAgICAgIHk6IC1iYm94LmhlaWdodCAvIDIgLSA2LFxyXG4gICAgICAgICAgd2lkdGg6IGJib3gud2lkdGggKyAoaGFzQ2hpbGRyZW4gPyAyNiA6IDEyKSxcclxuICAgICAgICAgIGhlaWdodDogYmJveC5oZWlnaHQgKyAxMixcclxuICAgICAgICB9KTtcclxuICAgICAgICB0ZXh0LmF0dHIoe1xyXG4gICAgICAgICAgeDogLWJib3gud2lkdGggLyAyLFxyXG4gICAgICAgICAgeTogMFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGhhc0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICBncm91cC5hZGRTaGFwZSgnbWFya2VyJywge1xyXG4gICAgICAgICAgICBhdHRyczoge1xyXG4gICAgICAgICAgICAgIHg6IGJib3gud2lkdGggLyAyICsgMTIsXHJcbiAgICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgICByOiA2LFxyXG4gICAgICAgICAgICAgIHN5bWJvbDogY2ZnLmNvbGxhcHNlZCA/IEc2Lk1hcmtlci5leHBhbmQgOiBHNi5NYXJrZXIuY29sbGFwc2UsXHJcbiAgICAgICAgICAgICAgc3Ryb2tlOiAnIzY2NicsXHJcbiAgICAgICAgICAgICAgbGluZVdpZHRoOiAyLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBuYW1lOiAnY29sbGFwc2UtaWNvbicsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlY3Q7XHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZTogKGNmZywgaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwID0gaXRlbS5nZXRDb250YWluZXIoKTtcclxuICAgICAgICBjb25zdCBpY29uID0gZ3JvdXAuZmluZCgoZSkgPT4gZS5nZXQoJ25hbWUnKSA9PT0gJ2NvbGxhcHNlLWljb24nKTtcclxuICAgICAgICBpY29uLmF0dHIoJ3N5bWJvbCcsIGNmZy5jb2xsYXBzZWQgPyBHNi5NYXJrZXIuZXhwYW5kIDogRzYuTWFya2VyLmNvbGxhcHNlKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICAnc2luZ2xlLW5vZGUnLFxyXG4gICk7XHJcblxyXG4gIEc2LnJlZ2lzdGVyTm9kZShcclxuICAgICd0cmVlLW5vZGUnLFxyXG4gICAge1xyXG4gICAgICBkcmF3U2hhcGU6IGZ1bmN0aW9uIGRyYXdTaGFwZShjZmc6YW55LCBncm91cDphbnkpIHtcclxuICAgICAgICBjb25zdCByZWN0ID0gZ3JvdXAuYWRkU2hhcGUoJ3JlY3QnLCB7XHJcbiAgICAgICAgICBhdHRyczoge1xyXG4gICAgICAgICAgICBmaWxsOiAnIzkxZDVmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyM0MGE5ZmYnLFxyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICB3aWR0aDoxLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDFcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBuYW1lOiAncmVjdC1zaGFwZScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGNmZy5pZC50b1N0cmluZygpLnJlcGxhY2UoLyguezE5fSkvZywgJyQxXFxuJyk7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IGdyb3VwLmFkZFNoYXBlKCd0ZXh0Jywge1xyXG4gICAgICAgICAgYXR0cnM6IHtcclxuICAgICAgICAgICAgdGV4dDogY29udGVudCxcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXHJcbiAgICAgICAgICAgIHRleHRCYXNlbGluZTogJ21pZGRsZScsXHJcbiAgICAgICAgICAgIGZpbGw6ICcjMDAwJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBuYW1lOiAndGV4dC1zaGFwZScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgYmJveCA9IHRleHQuZ2V0QkJveCgpO1xyXG4gICAgICAgIGNvbnN0IGhhc0NoaWxkcmVuID0gY2ZnLmNoaWxkcmVuICYmIEFycmF5KGNmZy5jaGlsZHJlbikubGVuZ3RoID4gMDtcclxuICAgICAgICByZWN0LmF0dHIoe1xyXG4gICAgICAgICAgeDogLWJib3gud2lkdGggLyAyIC0gNCxcclxuICAgICAgICAgIHk6IC1iYm94LmhlaWdodCAvIDIgLSA2LFxyXG4gICAgICAgICAgd2lkdGg6IGJib3gud2lkdGggKyAoaGFzQ2hpbGRyZW4gPyAyNiA6IDEyKSxcclxuICAgICAgICAgIGhlaWdodDogYmJveC5oZWlnaHQgKyAxMixcclxuICAgICAgICB9KTtcclxuICAgICAgICB0ZXh0LmF0dHIoe1xyXG4gICAgICAgICAgeDogLWJib3gud2lkdGggLyAyLFxyXG4gICAgICAgICAgeTogMFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGhhc0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICBncm91cC5hZGRTaGFwZSgnbWFya2VyJywge1xyXG4gICAgICAgICAgICBhdHRyczoge1xyXG4gICAgICAgICAgICAgIHg6IGJib3gud2lkdGggLyAyICsgMTIsXHJcbiAgICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgICByOiA2LFxyXG4gICAgICAgICAgICAgIHN5bWJvbDogY2ZnLmNvbGxhcHNlZCA/IEc2Lk1hcmtlci5leHBhbmQgOiBHNi5NYXJrZXIuY29sbGFwc2UsXHJcbiAgICAgICAgICAgICAgc3Ryb2tlOiAnIzY2NicsXHJcbiAgICAgICAgICAgICAgbGluZVdpZHRoOiAyLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBuYW1lOiAnY29sbGFwc2UtaWNvbicsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlY3Q7XHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZTogKGNmZywgaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwID0gaXRlbS5nZXRDb250YWluZXIoKTtcclxuICAgICAgICBjb25zdCBpY29uID0gZ3JvdXAuZmluZCgoZSkgPT4gZS5nZXQoJ25hbWUnKSA9PT0gJ2NvbGxhcHNlLWljb24nKTtcclxuICAgICAgICBpY29uLmF0dHIoJ3N5bWJvbCcsIGNmZy5jb2xsYXBzZWQgPyBHNi5NYXJrZXIuZXhwYW5kIDogRzYuTWFya2VyLmNvbGxhcHNlKTtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICAnc2luZ2xlLW5vZGUnLFxyXG4gICk7Il19
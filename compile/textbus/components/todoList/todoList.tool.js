import { ButtonTool } from '@textbus/editor';
import { Commander, ContentType, Slot, Selection } from '@textbus/core';
import { todoListComponent } from './todoList.component';
export function todoListToolConfigFactory(injector) {
    const commander = injector.get(Commander);
    const selection = injector.get(Selection);
    return {
        label: '待办事项',
        tooltip: '待办事项',
        onClick() {
            const slot = new Slot([
                ContentType.BlockComponent,
                ContentType.Text
            ]);
            slot.write('待办事项');
            const state = {
                active: false,
                disabled: false,
            };
            const component = todoListComponent.createInstance(injector, { state: state, slots: [slot] });
            commander.insert(component);
            selection.setPosition(slot, 0);
        }
    };
}
export const todoListTool = new ButtonTool(todoListToolConfigFactory);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9kb0xpc3QudG9vbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3RleHRidXMvY29tcG9uZW50cy90b2RvTGlzdC90b2RvTGlzdC50b29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQWtCLE1BQU0saUJBQWlCLENBQUE7QUFDNUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQTtBQUN2RSxPQUFPLEVBQUMsaUJBQWlCLEVBQWdCLE1BQU0sc0JBQXNCLENBQUE7QUFFckUsTUFBTSxVQUFVLHlCQUF5QixDQUFDLFFBQVE7SUFDOUMsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQTtJQUN6QyxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ3pDLE9BQU87UUFDSCxLQUFLLEVBQUUsTUFBTTtRQUNiLE9BQU8sRUFBQyxNQUFNO1FBQ2QsT0FBTztZQUNILE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDO2dCQUNsQixXQUFXLENBQUMsY0FBYztnQkFDMUIsV0FBVyxDQUFDLElBQUk7YUFDbkIsQ0FBQyxDQUFBO1lBQ0YsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUVsQixNQUFNLEtBQUssR0FBZTtnQkFDdEIsTUFBTSxFQUFFLEtBQUs7Z0JBQ2IsUUFBUSxFQUFDLEtBQUs7YUFFakIsQ0FBQTtZQUNELE1BQU0sU0FBUyxHQUFHLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsRUFBQyxLQUFLLEVBQUMsS0FBSyxFQUFDLEtBQUssRUFBQyxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsQ0FBQTtZQUN4RixTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBQzNCLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQ2xDLENBQUM7S0FDSixDQUFBO0FBQ0wsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBYSxJQUFJLFVBQVUsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnV0dG9uVG9vbCxCdXR0b25Ub29sQ29uZmlnfSBmcm9tICdAdGV4dGJ1cy9lZGl0b3InXHJcbmltcG9ydCB7IENvbW1hbmRlciwgQ29udGVudFR5cGUsIFNsb3QsIFNlbGVjdGlvbiB9IGZyb20gJ0B0ZXh0YnVzL2NvcmUnXHJcbmltcG9ydCB7dG9kb0xpc3RDb21wb25lbnQsIHRvZG9MaXN0U3RhdGV9IGZyb20gJy4vdG9kb0xpc3QuY29tcG9uZW50J1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvZG9MaXN0VG9vbENvbmZpZ0ZhY3RvcnkoaW5qZWN0b3IpOkJ1dHRvblRvb2xDb25maWcge1xyXG4gICAgY29uc3QgY29tbWFuZGVyID0gaW5qZWN0b3IuZ2V0KENvbW1hbmRlcilcclxuICAgIGNvbnN0IHNlbGVjdGlvbiA9IGluamVjdG9yLmdldChTZWxlY3Rpb24pXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGxhYmVsOiAn5b6F5Yqe5LqL6aG5JyxcclxuICAgICAgICB0b29sdGlwOiflvoXlip7kuovpobknLFxyXG4gICAgICAgIG9uQ2xpY2soKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBuZXcgU2xvdChbXHJcbiAgICAgICAgICAgICAgICBDb250ZW50VHlwZS5CbG9ja0NvbXBvbmVudCxcclxuICAgICAgICAgICAgICAgIENvbnRlbnRUeXBlLlRleHRcclxuICAgICAgICAgICAgXSlcclxuICAgICAgICAgICAgc2xvdC53cml0ZSgn5b6F5Yqe5LqL6aG5JylcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlOnRvZG9MaXN0U3RhdGU9e1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkOmZhbHNlLFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdG9kb0xpc3RDb21wb25lbnQuY3JlYXRlSW5zdGFuY2UoaW5qZWN0b3IsIHtzdGF0ZTpzdGF0ZSxzbG90czpbc2xvdF19KVxyXG4gICAgICAgICAgICBjb21tYW5kZXIuaW5zZXJ0KGNvbXBvbmVudClcclxuICAgICAgICAgICAgc2VsZWN0aW9uLnNldFBvc2l0aW9uKHNsb3QsIDApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdG9kb0xpc3RUb29sOkJ1dHRvblRvb2w9IG5ldyBCdXR0b25Ub29sKHRvZG9MaXN0VG9vbENvbmZpZ0ZhY3RvcnkpXHJcbiJdfQ==